{
  "task": [
    {
      "name": "🚢 江东万里船V3",
      "entry": "万里船刷取",
      "doc": "启动后会自动导航进入活动界面，也可在未完成水战关卡内启动，会自动接管当前进度继续刷\n\n识别不到某个节点，就把对应的识别精度改低点\n一直点灰色的节点，就把对应的识别精度改高点\n\nMaa会强制开启自动战斗，请提前准备好编队。",
      "option": [
        "万里船-刷哪层",
        "万里船-指定游船",
        "万里船-路径优先级",
        "万里船-船歌优先级",
        "万里船-进行漂流罐/迷雾战斗",
        "万里船-泊船处自动购物",
        "万里船-自定义延时",
        "万里船-选择超时后行为",
        "万里船-战斗失败后行为",
        "战斗超过一定时间自动关闭游戏"
      ],
      "advanced": [
        "奖励识别精度",
        "漂流罐识别精度",
        "迷雾识别精度",
        "泊船处识别精度",
        "石经塔识别精度",
        "蒹葭渚识别精度",
        "战斗识别精度",
        "精英战斗识别精度",
        "当前节点识别精度"
      ]
    }
  ],
  "option": {
    "万里船-进行漂流罐/迷雾战斗": {
      "cases": [
        {
          "name": "no",
          "pipeline_override": {
            "万里船-漂流罐战斗": {
              "action": "Click",
              "pre_delay": 500,
              "target": [57, 51, 25, 23],
              "next": ["万里船事件-下一步"],
              "focus": "万里船事件-奇遇/迷雾战斗，已退出"
            }
          }
        },
        {
          "name": "yes",
          "pipeline_override": {
            "万里船-漂流罐战斗": {
              "next": ["万里船-开始战斗"]
            }
          }
        }
      ]
    },
    "万里船-泊船处自动购物": {
      "cases": [
        {
          "name": "no",
          "pipeline_override": {
            "万里船-购物测试": {
              "enabled": false
            },
            "万里船事件-泊船处退出": {
              "enabled": true
            }
          }
        },
        {
          "name": "yes",
          "pipeline_override": {
            "万里船-购物测试": {
              "enabled": true
            },
            "万里船事件-泊船处退出": {
              "enabled": false
            }
          }
        }
      ]
    },
    "万里船-船歌优先级": {
      "cases": [
        {
          "name": "优先悬旌万里",
          "pipeline_override": {
            "船歌-检查船歌": {
              "next": [
                "船歌-选择悬旌万里",
                "船歌-选择虎啸山林",
                "船歌-选择放猎逐禽",
                "船歌-选择岁物丰成"
              ]
            },
            "万里船-尝试买金buff": {
              "next": [
                "万里船-买空了",
                "购物-选择金悬旌",
                "购物-选择旗箭",
                "购物-选择金虎啸",
                "购物-选择饲虎",
                "购物-选择射虎",
                "购物-选择金放猎",
                "购物-选择猎获",
                "购物-选择金岁物"
              ]
            },
            "万里船-尝试买紫buff": {
              "next": [
                "万里船-买空了",
                "购物-选择紫悬旌",
                "购物-选择紫虎啸",
                "购物-选择紫放猎",
                "购物-选择紫岁物"
              ]
            },
            "万里船-尝试买蓝buff": {
              "next": [
                "万里船-买空了",
                "购物-选择蓝悬旌",
                "购物-选择羽帜",
                "购物-选择蓝虎啸",
                "购物-选择餐虏",
                "购物-选择蓝放猎",
                "购物-选择渔猎",
                "购物-选择蓝岁物"
              ]
            }
          }
        },
        {
          "name": "优先虎啸山林",
          "pipeline_override": {
            "船歌-检查船歌": {
              "next": [
                "船歌-选择虎啸山林",
                "船歌-选择悬旌万里",
                "船歌-选择放猎逐禽",
                "船歌-选择岁物丰成"
              ]
            },
            "万里船-尝试买金buff": {
              "next": [
                "万里船-买空了",
                "购物-选择金虎啸",
                "购物-选择饲虎",
                "购物-选择射虎",
                "购物-选择金悬旌",
                "购物-选择金放猎",
                "购物-选择猎获",
                "购物-选择旗箭",
                "购物-选择金岁物"
              ]
            },
            "万里船-尝试买紫buff": {
              "next": [
                "万里船-买空了",
                "购物-选择紫虎啸",
                "购物-选择紫悬旌",
                "购物-选择紫放猎",
                "购物-选择紫岁物"
              ]
            },
            "万里船-尝试买蓝buff": {
              "next": [
                "万里船-买空了",
                "购物-选择蓝虎啸",
                "购物-选择餐虏",
                "购物-选择蓝悬旌",
                "购物-选择羽帜",
                "购物-选择蓝放猎",
                "购物-选择渔猎",
                "购物-选择蓝岁物"
              ]
            }
          }
        },
        {
          "name": "优先放猎逐禽",
          "pipeline_override": {
            "船歌-检查船歌": {
              "next": [
                "船歌-选择放猎逐禽",
                "船歌-选择悬旌万里",
                "船歌-选择虎啸山林",
                "船歌-选择岁物丰成"
              ]
            },
            "万里船-尝试买金buff": {
              "next": [
                "万里船-买空了",
                "购物-选择金放猎",
                "购物-选择猎获",
                "购物-选择旗箭",
                "购物-选择金悬旌",
                "购物-选择金虎啸",
                "购物-选择饲虎",
                "购物-选择射虎",
                "购物-选择金岁物"
              ]
            },
            "万里船-尝试买紫buff": {
              "next": [
                "万里船-买空了",
                "购物-选择紫放猎",
                "购物-选择紫悬旌",
                "购物-选择紫虎啸",
                "购物-选择紫岁物"
              ]
            },
            "万里船-尝试买蓝buff": {
              "next": [
                "万里船-买空了",
                "购物-选择蓝放猎",
                "购物-选择羽帜",
                "购物-选择渔猎",
                "购物-选择蓝悬旌",
                "购物-选择蓝虎啸",
                "购物-选择餐虏",
                "购物-选择蓝岁物"
              ]
            }
          }
        },
        {
          "name": "优先岁物丰成",
          "pipeline_override": {
            "船歌-检查船歌": {
              "next": [
                "船歌-选择岁物丰成",
                "船歌-选择悬旌万里",
                "船歌-选择虎啸山林",
                "船歌-选择放猎逐禽"
              ]
            },
            "万里船-尝试买金buff": {
              "next": [
                "万里船-买空了",
                "购物-选择金岁物",
                "购物-选择猎获",
                "购物-选择金悬旌",
                "购物-选择旗箭",
                "购物-选择金虎啸",
                "购物-选择饲虎",
                "购物-选择射虎",
                "购物-选择金放猎"
              ]
            },
            "万里船-尝试买紫buff": {
              "next": [
                "万里船-买空了",
                "购物-选择紫岁物",
                "购物-选择紫悬旌",
                "购物-选择紫虎啸",
                "购物-选择紫放猎"
              ]
            },
            "万里船-尝试买蓝buff": {
              "next": [
                "万里船-买空了",
                "购物-选择蓝岁物",
                "购物-选择渔猎",
                "购物-选择蓝悬旌",
                "购物-选择羽帜",
                "购物-选择蓝虎啸",
                "购物-选择餐虏",
                "购物-选择蓝放猎"
              ]
            }
          }
        },
        {
          "name": "(未实装)优先徐庶队核心出装",
          "pipeline_override": {}
        }
      ]
    },
    "万里船-选择超时后行为": {
      "cases": [
        {
          "name": "关闭游戏",
          "pipeline_override": {
            "万里船-选择超时": {
              "next": ["关闭游戏版本"],
              "focus": {
                "start": "[color:Red]万里船-选择超时！正在尝试关闭游戏！[/color]",
                "toast": "万里船-选择超时！正在尝试关闭游戏！"
              }
            }
          }
        },
        {
          "name": "左上角重开水战",
          "pipeline_override": {
            "万里船-选择超时": {
              "next": ["万里船-左上角重开"],
              "focus": "[color:Red]万里船-选择超时！正在尝试重开水战！[/color]"
            }
          }
        }
      ]
    },
    "万里船-战斗失败后行为": {
      "cases": [
        {
          "name": "停止任务",
          "pipeline_override": {}
        },
        {
          "name": "左上角重开水战",
          "pipeline_override": {
            "万里船-战斗失败": {
              "next": ["万里船-失败重开"]
            }
          }
        }
      ]
    },
    "万里船-刷哪层": {
      "cases": [
        {
          "name": "漕运码头",
          "pipeline_override": {
            "在万里船界面": {
              "target": [268, 975, 140, 116]
            },
            "进入挑战-进入万里船": {
              "enabled": true
            },
            "进入挑战-渡水": {
              "enabled": false
            }
          }
        },
        {
          "name": "枕水古镇 一",
          "pipeline_override": {
            "在万里船界面": {
              "target": [155, 588, 70, 67]
            },
            "进入挑战-进入万里船": {
              "enabled": true,
              "roi": [489, 698, 137, 148]
            },
            "进入挑战-渡水": {
              "enabled": false
            }
          }
        },
        {
          "name": "枕水古镇 二",
          "pipeline_override": {
            "在万里船界面": {
              "target": [155, 588, 70, 67]
            },
            "进入挑战-进入万里船": {
              "enabled": true,
              "roi": [485, 967, 155, 154]
            },
            "进入挑战-渡水": {
              "enabled": false
            }
          }
        },
        {
          "name": "渡水津梁 一",
          "pipeline_override": {
            "在万里船界面": {
              "target": [558, 598, 53, 49]
            },
            "进入挑战-进入万里船": {
              "enabled": false
            },
            "进入挑战-渡水": {
              "enabled": true,
              "next": ["找到渡水123入口"]
            },
            "找到渡水123入口": {
              "target": [552, 397, 31, 39]
            }
          }
        },
        {
          "name": "渡水津梁 二",
          "pipeline_override": {
            "在万里船界面": {
              "target": [558, 598, 53, 49]
            },
            "进入挑战-进入万里船": {
              "enabled": false
            },
            "进入挑战-渡水": {
              "enabled": true,
              "next": ["找到渡水123入口"]
            },
            "找到渡水123入口": {
              "target": [547, 673, 36, 35]
            }
          }
        },
        {
          "name": "渡水津梁 三",
          "pipeline_override": {
            "在万里船界面": {
              "target": [558, 598, 53, 49]
            },
            "进入挑战-进入万里船": {
              "enabled": false
            },
            "进入挑战-渡水": {
              "enabled": true,
              "next": ["找到渡水123入口"]
            },
            "找到渡水123入口": {
              "target": [540, 944, 46, 39]
            }
          }
        },
        {
          "name": "渡水津梁 四",
          "pipeline_override": {
            "在万里船界面": {
              "target": [558, 598, 53, 49]
            },
            "进入挑战-进入万里船": {
              "enabled": false
            },
            "进入挑战-渡水": {
              "enabled": true,
              "next": ["找到渡水4入口"]
            },
            "找到渡水4入口-2": {
              "target": [540, 944, 46, 39]
            }
          }
        },
        {
          "name": "水帘洞",
          "pipeline_override": {
            "在万里船界面": {
              "target": [223, 167, 51, 54]
            },
            "进入挑战-进入万里船": {
              "enabled": true,
              "roi": [485, 976, 152, 140]
            },
            "进入挑战-渡水": {
              "enabled": false
            }
          }
        },
        {
          "name": "崖间阁",
          "pipeline_override": {
            "在万里船界面": {
              "target": [513, 192, 54, 26]
            },
            "进入挑战-进入万里船": {
              "enabled": true,
              "roi": [485, 976, 152, 140]
            },
            "进入挑战-渡水": {
              "enabled": false
            }
          }
        }
      ]
    },
    "万里船-指定游船": {
      "cases": [
        {
          "name": "不变",
          "pipeline_override": {
            "进入挑战-进入万里船": {
              "next": ["万里船-确认选择游船"]
            },
            "找到渡水123入口": {
              "next": ["万里船-确认选择游船"]
            },
            "找到渡水4入口-2": {
              "next": ["万里船-确认选择游船"]
            },
            "万里船-确认崖间阁阵容": {
              "next": ["万里船-确认选择游船"]
            }
          }
        },
        {
          "name": "独木舟",
          "pipeline_override": {
            "万里船-选择游船": {
              "expected": "木"
            }
          }
        },
        {
          "name": "篷船",
          "pipeline_override": {
            "万里船-选择游船": {
              "expected": "篷"
            }
          }
        },
        {
          "name": "画舫",
          "pipeline_override": {
            "万里船-选择游船": {
              "expected": "画"
            }
          }
        },
        {
          "name": "艨艟",
          "pipeline_override": {
            "万里船-选择游船": {
              "recognition": "TemplateMatch",
              "template": "wanli/mengchong.png"
            }
          }
        },
        {
          "name": "楼船",
          "pipeline_override": {
            "万里船-选择游船": {
              "expected": "楼"
            }
          }
        },
        {
          "name": "幽灵舰",
          "pipeline_override": {
            "万里船-选择游船": {
              "expected": "灵"
            }
          }
        }
      ]
    },
    "万里船-路径优先级": {
      "cases": [
        {
          "name": "速刷汗水金钩",
          "pipeline_override": {}
        },
        {
          "name": "迷雾赌16船歌",
          "pipeline_override": {
            "万里船事件-下一步": {
              "next": [
                "万里船事件-黑洞结束退出",
                "万里船事件-最终挑战",
                "万里船事件-阶段挑战",
                "万里船事件-选择船歌",
                "万里船事件-漂流罐-获得奖励",
                "万里船事件-迷雾",
                "万里船事件-漂流罐",
                "万里船事件-泊船处",
                "万里船事件-精英战斗",
                "万里船事件-战斗",
                "万里船事件-奖励",
                "万里船事件-石经塔",
                "万里船事件-蒹葭渚"
              ]
            },
            "万里船事件-中途进入": {
              "next": [
                "万里船事件-黑洞结束退出",
                "万里船事件-最终挑战",
                "万里船事件-阶段挑战",
                "万里船事件-中途阶段挑战",
                "万里船事件-选择船歌",
                "万里船事件-漂流罐-获得奖励",
                "万里船事件-迷雾",
                "万里船事件-漂流罐",
                "万里船事件-泊船处",
                "万里船事件-精英战斗",
                "万里船事件-战斗",
                "万里船事件-奖励",
                "万里船事件-石经塔",
                "万里船事件-蒹葭渚"
              ]
            }
          }
        },
        {
          "name": "(研讨中)高难发育",
          "pipeline_override": {
            "万里船事件-下一步": {
              "next": [
                "万里船事件-黑洞结束退出",
                "万里船事件-最终挑战",
                "万里船事件-阶段挑战",
                "万里船事件-选择船歌",
                "万里船事件-漂流罐-获得奖励",
                "万里船事件-迷雾",
                "万里船事件-漂流罐",
                "万里船事件-奖励",
                "万里船事件-泊船处",
                "万里船事件-精英战斗",
                "万里船事件-战斗",
                "万里船事件-石经塔",
                "万里船事件-蒹葭渚"
              ]
            },
            "万里船事件-中途进入": {
              "next": [
                "万里船事件-黑洞结束退出",
                "万里船事件-最终挑战",
                "万里船事件-阶段挑战",
                "万里船事件-中途阶段挑战",
                "万里船事件-选择船歌",
                "万里船事件-漂流罐-获得奖励",
                "万里船事件-迷雾",
                "万里船事件-漂流罐",
                "万里船事件-奖励",
                "万里船事件-泊船处",
                "万里船事件-精英战斗",
                "万里船事件-战斗",
                "万里船事件-石经塔",
                "万里船事件-蒹葭渚"
              ]
            }
          }
        }
      ]
    },
    "万里船-自定义延时": {
      "cases": [
        {
          "name": "默认",
          "pipeline_override": {}
        },
        {
          "name": "较慢",
          "pipeline_override": {
            "万里船刷取": {
              "timeout": 4000
            },
            "在万里船界面": {
              "post_delay": 2000
            },
            "万里船-再次确认游船": {
              "post_delay": 4000
            },
            "万里船事件-检测当前": {
              "post_delay": 3500
            },
            "进入挑战-进入万里船": {
              "post_delay": 3500
            },
            "万里船事件-下一步": {
              "post_delay": 1000
            },
            "万里船事件-中途进入": {
              "post_delay": 1000
            },
            "万里船事件-战斗": {
              "post_delay": 3500
            },
            "万里船事件-精英战斗": {
              "post_delay": 3500
            },
            "万里船事件-奖励": {
              "post_delay": 3500
            },
            "万里船事件-漂流罐": {
              "post_delay": 3500
            },
            "万里船事件-泊船处": {
              "post_delay": 3500
            },
            "万里船事件-阶段挑战": {
              "post_delay": 3500
            },
            "万里船事件-中途阶段挑战": {
              "post_delay": 3500
            },
            "万里船事件-最终挑战": {
              "post_delay": 3500
            },
            "万里船事件-确定": {
              "post_delay": 3500
            },
            "万里船事件-激活船歌起": {
              "post_delay": 3500
            },
            "船歌-确认选择": {
              "post_delay": 3500
            },
            "万里船事件-泊船处退出": {
              "post_delay": 3500
            },
            "万里船事件-石经塔": {
              "post_delay": 3500
            },
            "万里船事件-石经塔退出": {
              "post_delay": 3500
            },
            "万里船-开始战斗": {
              "pre_delay": 1500,
              "post_delay": 3500
            },
            "万里船-战斗胜利": {
              "pre_delay": 1500,
              "post_delay": 3500
            },
            "万里船-战斗胜利2": {
              "pre_delay": 1500,
              "post_delay": 3500
            },
            "万里船-战斗失败": {
              "pre_delay": 1500
            }
          }
        },
        {
          "name": "最慢",
          "pipeline_override": {
            "万里船刷取": {
              "timeout": 5000
            },
            "在万里船界面": {
              "post_delay": 3000
            },
            "万里船-再次确认游船": {
              "post_delay": 5500
            },
            "万里船事件-检测当前": {
              "post_delay": 5000
            },
            "进入挑战-进入万里船": {
              "post_delay": 5000
            },
            "万里船事件-下一步": {
              "post_delay": 2000
            },
            "万里船事件-中途进入": {
              "post_delay": 2000
            },
            "万里船事件-战斗": {
              "post_delay": 5000
            },
            "万里船事件-精英战斗": {
              "post_delay": 5000
            },
            "万里船事件-奖励": {
              "post_delay": 5000
            },
            "万里船事件-事件": {
              "post_delay": 5000
            },
            "万里船事件-方士小摊": {
              "post_delay": 5000
            },
            "万里船事件-阶段挑战": {
              "post_delay": 5000
            },
            "万里船事件-中途阶段挑战": {
              "post_delay": 5000
            },
            "万里船事件-最终挑战": {
              "post_delay": 5000
            },
            "万里船事件-确定": {
              "post_delay": 5000
            },
            "万里船事件-激活船歌起": {
              "post_delay": 5000
            },
            "降神符-确认选择": {
              "post_delay": 5000
            },
            "万里船事件-泊船处退出": {
              "post_delay": 5000
            },
            "万里船事件-石经塔": {
              "post_delay": 5000
            },
            "万里船事件-石经塔退出": {
              "post_delay": 5000
            },
            "万里船-开始战斗": {
              "pre_delay": 3000,
              "post_delay": 5000
            },
            "万里船-战斗胜利": {
              "pre_delay": 3000,
              "post_delay": 5000
            },
            "万里船-战斗胜利2": {
              "pre_delay": 3000,
              "post_delay": 5000
            },
            "万里船-战斗失败": {
              "pre_delay": 3000
            }
          }
        }
      ]
    },
    "战斗超过一定时间自动关闭游戏": {
      "cases": [
        {
          "name": "5分钟",
          "pipeline_override": {}
        },
        {
          "name": "10分钟",
          "pipeline_override": {
            "万里船-战斗中": {
              "timeout": 600000
            }
          }
        },
        {
          "name": "20分钟",
          "pipeline_override": {
            "万里船-战斗中": {
              "timeout": 1200000
            }
          }
        }
      ]
    }
  },
  "advanced": {
    "奖励识别精度": {
      "field": "奖励识别精度",
      "type": "string",
      "default": "0.5",
      "pipeline_override": {
        "万里船事件-奖励": {
          "threshold": "{奖励识别精度}"
        }
      }
    },
    "泊船处识别精度": {
      "field": "泊船处识别精度",
      "type": "string",
      "default": "0.75",
      "pipeline_override": {
        "万里船事件-泊船处": {
          "threshold": "{泊船处识别精度}"
        }
      }
    },
    "漂流罐识别精度": {
      "field": "漂流罐识别精度",
      "type": "string",
      "default": "0.715",
      "pipeline_override": {
        "万里船事件-漂流罐": {
          "threshold": "{漂流罐识别精度}"
        }
      }
    },
    "迷雾识别精度": {
      "field": "迷雾识别精度",
      "type": "string",
      "default": "0.75",
      "pipeline_override": {
        "万里船事件-迷雾": {
          "threshold": "{迷雾识别精度}"
        }
      }
    },
    "石经塔识别精度": {
      "field": "石经塔识别精度",
      "type": "string",
      "default": "0.75",
      "pipeline_override": {
        "万里船事件-石经塔": {
          "threshold": "{石经塔识别精度}"
        }
      }
    },
    "蒹葭渚识别精度": {
      "field": "蒹葭渚识别精度",
      "type": "string",
      "default": "0.75",
      "pipeline_override": {
        "万里船事件-蒹葭渚": {
          "threshold": "{蒹葭渚识别精度}"
        }
      }
    },
    "战斗识别精度": {
      "field": "战斗识别精度",
      "type": "string",
      "default": "0.75",
      "pipeline_override": {
        "万里船事件-战斗": {
          "threshold": "{战斗识别精度}"
        }
      }
    },
    "精英战斗识别精度": {
      "field": "精英战斗识别精度",
      "type": "string",
      "default": "0.75",
      "pipeline_override": {
        "万里船事件-精英战斗": {
          "threshold": "{精英战斗识别精度}"
        }
      }
    },
    "当前节点识别精度": {
      "field": ["当前节点识别精度"],
      "type": ["string"],
      "default": ["0.5"],
      "pipeline_override": {
        "万里船事件-检测当前": {
          "threshold": "{当前节点识别精度}"
        }
      }
    }
  }
}
