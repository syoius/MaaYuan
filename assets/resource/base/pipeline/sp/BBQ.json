{
  "魂生一串启动": {
    "next": ["开始营业", "已在营业中"],
    "interrupt": ["点击进入魂生一串", "进入界面-活动"],
    "timeout": 2000,
    "focus": "魂生一串启动"
  },
  "点击进入魂生一串": {
    "recognition": "TemplateMatch",
    "template": "BBQ/icon.png",
    "action": "Click",
    "pre_delay": 800,
    "post_delay": 2000
  },
  "已在营业中": {
    "recognition": "TemplateMatch",
    "template": "BBQ/fish.png",
    "green_mask": true,
    "roi": [198, 1062, 461, 216],
    "next": "检测需要的美食",
    "interrupt": ["状态异常回滚"]
  },
  "开始营业": {
    "recognition": "OCR",
    "expected": "始",
    "roi": [328, 1043, 63, 37],
    "action": "Click",
    "pre_delay": 800,
    "focus": "开始营业",
    "next": "已在营业中",
    "timeout": 5000,
    "on_error": ["开始营业"],
    "interrupt": ["状态异常回滚"]
  },
  "检测需要的美食": {
    "next": [
      "进行清洁",
      "处理烧焦食物",
      "点单-熟肉丸",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-熟蔬菜",
      "点单-三明治",
      "结业确定",
      "收下礼物",
      "退出广陵食报",
      "开始营业"
    ],
    "timeout": 300000,
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟肉丸": {
    "recognition": "TemplateMatch",
    "template": "BBQ/meatball_order.png",
    "order_by": "Horizontal",
    "threshold": 0.7,
    "roi": [8, 482, 706, 98],
    "next": ["是否已有生肉丸", "处理烧焦食物", "收下礼物", "点击肉丸"],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "点击肉丸": {
    "is_sub": true,
    "recognition": "TemplateMatch",
    "template": "BBQ/meatball.png",
    "green_mask": true,
    "roi": [198, 1062, 461, 216],
    "action": "Click",
    "post_delay": 800,
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟肉丸2": {
    "recognition": "TemplateMatch",
    "template": "BBQ/meatball_order.png",
    "roi": "点单-熟肉丸",
    "roi_offset": [40, 0, 30, 20],
    "pre_delay": 500,
    "threshold": 0.7,
    "action": "Click",
    "target": "点击肉丸",
    "next": [
      "是否已有熟肉丸",
      "点单-熟肉丸3",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-熟蔬菜",
      "点单-三明治"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟肉丸3": {
    "recognition": "TemplateMatch",
    "template": "BBQ/meatball_order.png",
    "roi": "点单-熟肉丸2",
    "threshold": 0.7,
    "roi_offset": [40, 0, 30, 20],
    "pre_delay": 500,
    "action": "Click",
    "target": "点击肉丸",
    "next": [
      "是否已有熟肉丸",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-熟蔬菜",
      "点单-三明治"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有生肉丸": {
    "recognition": "TemplateMatch",
    "template": ["BBQ/meatball.png", "BBQ/meatball2.png"],
    "green_mask": true,
    "threshold": 0.52,
    "roi": [18, 814, 688, 221],
    "next": [
      "是否已有熟肉丸",
      "点单-熟肉丸2",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-熟蔬菜",
      "点单-三明治"
    ],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有熟肉丸": {
    "recognition": "ColorMatch",
    "upper": [241, 141, 75],
    "lower": [241, 141, 75],
    "roi": "是否已有生肉丸",
    "roi_offset": [-32, 220, 16, -168],
    "next": ["交单-肉丸"],
    "interrupt": ["状态异常回滚"]
  },
  "交单-肉丸": {
    "action": "Swipe",
    "begin": "是否已有生肉丸",
    "end": "点单-熟肉丸",
    "end_offset": [-45, 245, 0, 0],
    "duration": 150,
    "next": ["收下礼物", "进行清洁", "检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟鱼": {
    "recognition": "TemplateMatch",
    "template": "BBQ/fish_order.png",
    "order_by": "Horizontal",
    "threshold": 0.8,
    "roi": [8, 482, 706, 98],
    "next": ["是否已有鱼", "处理烧焦食物", "收下礼物", "点击鱼"],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "点击鱼": {
    "is_sub": true,
    "recognition": "TemplateMatch",
    "template": "BBQ/fish.png",
    "green_mask": true,
    "roi": [198, 1062, 461, 216],
    "action": "Click",
    "post_delay": 800,
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟鱼2": {
    "recognition": "TemplateMatch",
    "template": "BBQ/fish_order.png",
    "roi": "点单-熟鱼",
    "threshold": 0.8,
    "roi_offset": [40, 0, 30, 20],
    "pre_delay": 500,
    "action": "Click",
    "target": "点击鱼",
    "next": [
      "是否已有熟鱼",
      "点单-熟鱼3",
      "点单-熟肉丸",
      "点单-生鱼",
      "点单-熟肉串",
      "点单-熟蔬菜",
      "点单-三明治"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟鱼3": {
    "recognition": "TemplateMatch",
    "template": "BBQ/fish_order.png",
    "roi": "点单-熟鱼2",
    "threshold": 0.8,
    "roi_offset": [40, 0, 30, 20],
    "pre_delay": 500,
    "action": "Click",
    "target": "点击鱼",
    "next": [
      "是否已有熟鱼",
      "点单-熟肉丸",
      "点单-生鱼",
      "点单-熟肉串",
      "点单-熟蔬菜",
      "点单-三明治"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有鱼": {
    "recognition": "TemplateMatch",
    "template": ["BBQ/fish.png", "BBQ/fish2.png"],
    "green_mask": true,
    "threshold": 0.5,
    "roi": [18, 814, 688, 221],
    "next": [
      "是否已有熟鱼",
      "点单-熟鱼2",
      "点单-熟肉丸",
      "点单-生鱼",
      "点单-熟肉串",
      "点单-熟蔬菜",
      "点单-三明治"
    ],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有熟鱼": {
    "recognition": "TemplateMatch",
    "template": "BBQ/fish_cooked.png",
    "threshold": 0.8,
    "roi": [18, 814, 688, 221],
    "pre_delay": 500,
    "next": "交单-熟鱼",
    "interrupt": ["状态异常回滚"]
  },
  "交单-熟鱼": {
    "action": "Swipe",
    "begin": "是否已有鱼",
    "end": "点单-熟鱼",
    "end_offset": [-45, 245, 0, 0],
    "duration": 150,
    "next": ["收下礼物", "进行清洁", "检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "点单-生鱼": {
    "recognition": "OCR",
    "order_by": "Horizontal",
    "expected": "陈登",
    "roi": [16, 667, 681, 89],
    "next": ["点击生鱼1"],
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "点击生鱼1": {
    "recognition": "TemplateMatch",
    "template": "BBQ/fish.png",
    "green_mask": true,
    "roi": [198, 1062, 461, 216],
    "action": "Click",
    "post_delay": 800,
    "next": ["点击生鱼2"],
    "interrupt": ["状态异常回滚"]
  },
  "点击生鱼2": {
    "recognition": "TemplateMatch",
    "template": "BBQ/fish.png",
    "green_mask": true,
    "roi": [198, 1062, 461, 216],
    "action": "Click",
    "post_delay": 800,
    "next": ["找到生鱼1"],
    "interrupt": ["状态异常回滚"]
  },
  "找到生鱼1": {
    "recognition": "TemplateMatch",
    "template": "BBQ/fish.png",
    "green_mask": true,
    "threshold": 0.55,
    "roi": [18, 814, 688, 221],
    "next": ["交单-生鱼1"],
    "interrupt": ["状态异常回滚"]
  },
  "交单-生鱼1": {
    "action": "Swipe",
    "begin": "找到生鱼1",
    "end": "点单-生鱼",
    "end_offset": [70, 100, 0, 0],
    "duration": 150,
    "next": ["找到生鱼2", "检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "找到生鱼2": {
    "recognition": "TemplateMatch",
    "template": "BBQ/fish.png",
    "green_mask": true,
    "threshold": 0.55,
    "roi": [18, 814, 688, 221],
    "next": ["交单-生鱼2"],
    "interrupt": ["状态异常回滚"]
  },
  "交单-生鱼2": {
    "action": "Swipe",
    "begin": "找到生鱼2",
    "end": "点单-生鱼",
    "end_offset": [70, 100, 0, 0],
    "duration": 150,
    "next": ["进行清洁", "收下礼物"],
    "timeout": 1500,
    "on_error": "检测需要的美食",
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟肉串": {
    "recognition": "TemplateMatch",
    "template": "BBQ/meat_order.png",
    "order_by": "Horizontal",
    "roi": [8, 482, 706, 98],
    "next": ["是否已有生肉串", "处理烧焦食物", "收下礼物", "点击肉串"],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "点击肉串": {
    "is_sub": true,
    "recognition": "TemplateMatch",
    "template": "BBQ/meat.png",
    "green_mask": true,
    "roi": [198, 1062, 461, 216],
    "action": "Click",
    "post_delay": 800,
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟肉串2": {
    "recognition": "TemplateMatch",
    "template": "BBQ/meat_order.png",
    "roi": "点单-熟肉串",
    "roi_offset": [40, 0, 30, 20],
    "action": "Click",
    "target": "点击肉串",
    "next": [
      "是否已有熟肉串",
      "点单-熟肉串3",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉丸",
      "点单-熟蔬菜",
      "点单-三明治"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟肉串3": {
    "recognition": "TemplateMatch",
    "template": "BBQ/meat_order.png",
    "roi": "点单-熟鱼2",
    "roi_offset": [40, 0, 30, 20],
    "action": "Click",
    "target": "点击肉串",
    "next": [
      "是否已有熟肉串",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉丸",
      "点单-熟蔬菜",
      "点单-三明治"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有生肉串": {
    "recognition": "TemplateMatch",
    "template": ["BBQ/meat.png", "BBQ/meat2.png", "BBQ/meat3.png"],
    "green_mask": true,
    "threshold": 0.5,
    "roi": [18, 814, 688, 221],
    "next": [
      "是否已有熟肉串",
      "点单-熟肉串2",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉丸",
      "点单-熟蔬菜",
      "点单-三明治"
    ],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有熟肉串": {
    "recognition": "ColorMatch",
    "upper": [241, 141, 75],
    "lower": [241, 141, 75],
    "roi": "是否已有生肉串",
    "roi_offset": [-35, 200, 16, -100],
    "next": ["交单-肉串"],
    "interrupt": ["状态异常回滚"]
  },
  "交单-肉串": {
    "action": "Swipe",
    "begin": "是否已有生肉串",
    "end": "点单-熟肉串",
    "end_offset": [-45, 245, 0, 0],
    "duration": 150,
    "next": ["收下礼物", "进行清洁", "检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟蔬菜": {
    "recognition": "TemplateMatch",
    "template": "BBQ/vegetable_order.png",
    "order_by": "Horizontal",
    "roi": [8, 482, 706, 98],
    "next": ["是否已有生蔬菜", "处理烧焦食物", "收下礼物", "点击蔬菜"],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有熟蔬菜": {
    "recognition": "ColorMatch",
    "upper": [241, 141, 75],
    "lower": [241, 141, 75],
    "roi": "是否已有生蔬菜",
    "roi_offset": [-32, 220, 16, -168],
    "next": ["交单-蔬菜"],
    "interrupt": ["状态异常回滚"]
  },
  "交单-蔬菜": {
    "action": "Swipe",
    "begin": "是否已有生蔬菜",
    "end": "点单-熟蔬菜",
    "end_offset": [-45, 245, 0, 0],
    "duration": 150,
    "next": ["收下礼物", "进行清洁", "检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有生蔬菜": {
    "recognition": "TemplateMatch",
    "template": ["BBQ/vegetable.png", "BBQ/vegetable2.png"],
    "threshold": 0.6,
    "green_mask": true,
    "roi": [18, 814, 688, 221],
    "next": [
      "是否已有熟蔬菜",
      "点单-熟蔬菜2",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-三明治"
    ],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "点击蔬菜": {
    "is_sub": true,
    "recognition": "TemplateMatch",
    "template": "BBQ/vegetable.png",
    "green_mask": true,
    "roi": [198, 1062, 461, 216],
    "action": "Click",
    "post_delay": 800,
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟蔬菜2": {
    "recognition": "TemplateMatch",
    "template": "BBQ/vegetable_order.png",
    "roi": "点单-熟蔬菜",
    "roi_offset": [40, 0, 30, 20],
    "pre_delay": 500,
    "action": "Click",
    "target": "点击蔬菜",
    "next": [
      "是否已有熟蔬菜",
      "点单-熟蔬菜3",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-熟肉丸",
      "点单-三明治"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "点单-熟蔬菜3": {
    "recognition": "TemplateMatch",
    "template": "BBQ/vegetable_order.png",
    "roi": "点单-熟蔬菜2",
    "roi_offset": [40, 0, 30, 20],
    "pre_delay": 500,
    "action": "Click",
    "target": "点击蔬菜",
    "next": [
      "是否已有熟蔬菜",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-熟肉丸",
      "点单-三明治"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "点单-三明治": {
    "recognition": "TemplateMatch",
    "template": "BBQ/sandwich_order.png",
    "order_by": "Horizontal",
    "roi": [8, 482, 706, 98],
    "next": ["是否已有三明治", "处理烧焦食物", "收下礼物", "点击三明治"],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "点击三明治": {
    "is_sub": true,
    "recognition": "TemplateMatch",
    "template": "BBQ/sandwich.png",
    "green_mask": true,
    "roi": [198, 1062, 461, 216],
    "action": "Click",
    "post_delay": 800,
    "interrupt": ["状态异常回滚"]
  },
  "点单-三明治2": {
    "recognition": "TemplateMatch",
    "template": "BBQ/sandwich_order.png",
    "roi": "点单-三明治",
    "roi_offset": [40, 0, 30, 20],
    "pre_delay": 500,
    "threshold": 0.7,
    "action": "Click",
    "target": "点击三明治",
    "next": [
      "是否已有三明治",
      "点单-三明治3",
      "点单-熟肉丸",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-熟蔬菜"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "点单-三明治3": {
    "recognition": "TemplateMatch",
    "template": "BBQ/sandwich_order.png",
    "roi": "点单-三明治2",
    "threshold": 0.7,
    "roi_offset": [40, 0, 30, 20],
    "pre_delay": 500,
    "action": "Click",
    "target": "点击三明治",
    "next": [
      "是否已有熟三明治",
      "点单-熟肉丸",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-熟蔬菜"
    ],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有三明治": {
    "recognition": "TemplateMatch",
    "template": ["BBQ/sandwich.png", "BBQ/sandwich2.png", "BBQ/sandwich3.png"],
    "green_mask": true,
    "roi": [18, 814, 688, 221],
    "next": [
      "是否已有熟三明治",
      "点单-三明治2",
      "点单-熟肉丸",
      "点单-生鱼",
      "点单-熟鱼",
      "点单-熟肉串",
      "点单-熟蔬菜"
    ],
    "timeout": 5000,
    "on_error": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "是否已有熟三明治": {
    "recognition": "TemplateMatch",
    "template": ["BBQ/sandwich_cooked2.png", "BBQ/sandwich_cooked.png"],
    "roi": [18, 814, 688, 221],
    "next": ["交单-三明治"],
    "interrupt": ["状态异常回滚"]
  },
  "交单-三明治": {
    "action": "Swipe",
    "begin": "是否已有三明治",
    "end": "点单-三明治",
    "end_offset": [-45, 245, 0, 0],
    "duration": 150,
    "next": ["收下礼物", "进行清洁", "检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "收下礼物": {
    "recognition": "TemplateMatch",
    "template": "BBQ/accept.png",
    "action": "Click",
    "roi": [220, 940, 281, 104],
    "target": [261, 975, 36, 30],
    "next": ["进行清洁", "收下礼物"],
    "interrupt": ["状态异常回滚"]
  },
  "进行清洁": {
    "recognition": "TemplateMatch",
    "template": "BBQ/clean.png",
    "action": "Click",
    "roi": [56, 756, 619, 70],
    "next": "检测需要的美食",
    "interrupt": ["状态异常回滚"]
  },
  "结业确定": {
    "recognition": "OCR",
    "expected": "招待",
    "roi": [112, 386, 65, 49],
    "action": "Click",
    "target": [658, 163, 26, 25],
    "post_delay": 2000,
    "next": ["退出广陵食报", "进入升级页面"],
    "interrupt": ["状态异常回滚"]
  },
  "退出广陵食报": {
    "recognition": "OCR",
    "expected": "美",
    "replace": ["神秘", "美"],
    "roi": [180, 67, 356, 153],
    "pre_delay": 500,
    "action": "Click",
    "target": [655, 160, 31, 31],
    "next": ["退出广陵食报", "进入升级页面", "检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "进入升级页面": {
    "recognition": "OCR",
    "expected": "升",
    "roi": [498, 1106, 59, 34],
    "pre_delay": 500,
    "action": "Click",
    "next": ["点击升级"],
    "timeout": 3000,
    "on_error": ["进入升级页面"],
    "interrupt": ["状态异常回滚"]
  },
  "点击升级": {
    "recognition": "OCR",
    "expected": "升",
    "roi": [318, 993, 86, 52],
    "pre_delay": 500,
    "action": "Click",
    "next": ["食堂升级"],
    "timeout": 3000,
    "on_error": ["退出升级页面"],
    "interrupt": ["状态异常回滚"]
  },
  "食堂升级": {
    "recognition": "OCR",
    "expected": "等",
    "roi": [167, 730, 58, 34],
    "pre_delay": 500,
    "action": "Click",
    "target": [668, 11, 28, 22],
    "post_delay": 1500,
    "next": ["点击升级"],
    "timeout": 3000,
    "on_error": ["退出升级页面"],
    "focus": "食堂升级成功",
    "interrupt": ["状态异常回滚"]
  },
  "退出升级页面": {
    "recognition": "OCR",
    "expected": "等",
    "roi": [278, 227, 172, 60],
    "pre_delay": 500,
    "action": "Click",
    "target": [655, 160, 31, 31],
    "next": ["开始营业"],
    "timeout": 3000,
    "on_error": ["退出升级页面"],
    "interrupt": ["状态异常回滚"]
  },
  "处理烧焦食物": {
    "recognition": "ColorMatch",
    "upper": [31, 13, 7],
    "lower": [31, 13, 7],
    "roi": [18, 814, 688, 221],
    "connected": true,
    "next": ["丢弃烧焦食物"],
    "interrupt": ["状态异常回滚"]
  },
  "丢弃烧焦食物": {
    "action": "Swipe",
    "begin": "处理烧焦食物",
    "end": [22, 1160, 50, 30],
    "duration": 150,
    "next": ["检测需要的美食"],
    "interrupt": ["状态异常回滚"]
  },
  "状态异常回滚": {
    "recognition": "OCR",
    "expected": "到上一次",
    "roi": [106,587,502,65],
    "action": "Click",
    "target": [328,781,71,37],
    "pre_delay": 500
  }
}
