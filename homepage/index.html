<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MaaYuan ÂØºËà™Á´ô</title>
    <link rel="icon" href="assets/logo.png" type="image/png" />
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: "Microsoft YaHei", Arial, sans-serif;
        background-color: #f7ead8;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        position: relative;
      }

      .container {
        max-width: 1000px;
        width: 100%;
        text-align: center;
        padding: 20px;
        box-sizing: border-box;
      }

      .content-row {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        gap: 20px;
      }

      .image-container {
        position: relative;
        cursor: pointer;
        flex: 0 0 auto;
        max-width: 50%;
        min-height: 200px;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: transparent;
        width: 500px;
        height: 500px;
        overflow: hidden;
      }

      .preload-container {
        width: 0;
        height: 0;
        overflow: hidden;
        position: absolute;
        top: -9999px;
        left: -9999px;
      }

      .image-container img {
        max-width: 100%;
        opacity: 0;
        transition: opacity 0.3s ease;
        position: relative;
        background-color: transparent;
        z-index: 1;
        max-height: 100%;
        object-fit: contain;
        background-color: transparent;
      }

      .image-container img.loaded {
        opacity: 1;
      }

      .image-tooltip {
        visibility: hidden;
        background-color: rgba(0, 0, 0, 0.75);
        color: #fff;
        text-align: center;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 14px;
        position: absolute;
        z-index: 20;
        white-space: nowrap;
        opacity: 0;
        transition: opacity 0.3s;
        pointer-events: none;
      }

      .image-container:hover .image-tooltip {
        visibility: visible;
        opacity: 1;
      }

      .overlay-text {
        flex: 1 1 300px;
        font-size: 36px;
        font-weight: bold;
        color: #493b2c;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        padding: 20px;
        background-color: #dfcbb2;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }

      .hint-text {
        display: block;
        font-size: 16px;
        font-weight: normal;
        color: #666;
        margin-top: 15px;
      }

      .highlight-text {
        color: rgba(194, 132, 0, 0.87);
        cursor: help;
        position: relative;
        transition: color 0.3s;
      }

      .highlight-text:hover {
        color: rgb(206, 144, 12);
      }

      .highlight-text .tooltip {
        visibility: hidden;
        background-color: #333;
        color: #fff;
        text-align: center;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 14px;
        font-weight: normal;
        position: absolute;
        z-index: 10;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        white-space: nowrap;
        opacity: 0;
        transition: opacity 0.3s;
      }

      .highlight-text:hover .tooltip {
        visibility: visible;
        opacity: 1;
      }

      .highlight-text .tooltip::after {
        content: "";
        position: absolute;
        top: 10%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #333 transparent transparent transparent;
      }

      .normal-content {
        display: none;
        flex: 1 1 300px;
        text-align: left;
        padding: 20px;
        background-color: #dfcbb2;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        position: relative;
        z-index: 10;
      }

      .normal-content h2 {
        color: #493b2c;
        margin-top: 0;
        text-shadow: 1px 1px 3px rgba(255, 251, 251, 0.805);
      }

      .normal-content h3 {
        color: #493b2c;
        margin-top: 10px;
        text-shadow: 1px 1px 3px rgba(255, 251, 251, 0.805);
      }

      .normal-content p {
        color: #2a251a;
        line-height: 1.6;
        text-shadow: 1px 1px 3px rgba(255, 251, 251, 0.805);
      }

      .normal-content a {
        display: inline-block;
        margin-top: 10px;
        padding: 8px 16px;
        background-color: #d4822a;
        color: #d8dff3;
        text-decoration: none;
        border-radius: 5px;
        font-weight: bold;
        width: 150px;
        margin: 10px;
        text-align: center;
        box-sizing: border-box;
      }

      .normal-content a:hover {
        background-color: rgba(214, 156, 29, 0.87);
      }

      .normal-content .text-link {
        display: inline;
        margin: 0;
        padding: 0;
        background-color: transparent;
        color: #b76b0f;
        font-weight: normal;
        width: auto;
      }

      .normal-content .text-link:hover {
        background-color: transparent;
        color: #8f5112;
      }

      .click-area {
        position: absolute;
        width: 200px;
        height: 200px;
        top: 60%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 5;
        cursor: pointer;
      }

      /* ÁßªÂä®Á´Ø‰ºòÂåñ */
      @media (max-width: 768px) {
        .content-row {
          flex-direction: column;
          gap: 15px;
        }

        .container {
          padding: 15px 10px;
        }

        .image-container {
          max-width: 100%;
          width: 100%;
          height: auto;
          max-height: 400px;
        }

        .image-container img {
          max-width: 100%;
          max-height: 350px;
        }

        .overlay-text,
        .normal-content {
          font-size: 22px;
          width: 95%;
          padding: 15px;
          margin: 0 auto;
        }

        .overlay-text {
          max-height: 100px; /* ÈôêÂà∂ÊúÄÂ§ßÈ´òÂ∫¶ */
        }

        .hint-text {
          font-size: 14px;
          margin-top: 10px;
        }

        .normal-content h2 {
          font-size: 24px;
        }

        .normal-content h3 {
          font-size: 20px;
        }

        .normal-content p {
          font-size: 16px;
        }

        .normal-content a {
          width: 40%;
          margin: 10px auto;
          padding: 12px 15px;
          border-radius: 8px;
          font-size: 16px;
          text-align: center;
          display: block;
        }

        .normal-content .text-link {
          display: inline;
          width: auto;
          margin: 0;
          padding: 0;
          border-radius: 0;
          background-color: transparent;
        }

        .click-area {
          width: 150px;
          height: 150px;
        }

        /* ÊîπËøõtooltipÁöÑËß¶Êë∏‰∫§‰∫í */
        .image-tooltip {
          max-width: 90%;
          padding: 10px 15px;
          font-size: 14px;
          line-height: 1.5;
          left: 50% !important;
          transform: translateX(-50%);
          bottom: 20px;
          top: auto !important;
        }
      }

      /* Â∞èÂ±èÂπïÊâãÊú∫‰ºòÂåñ */
      @media (max-width: 480px) {
        .image-container {
          height: 300px;
          max-height: 300px;
        }

        .image-container img {
          max-height: 250px;
        }

        .overlay-text {
          height: auto;
          min-height: 0;
          max-height: 100px; /* ÈôêÂà∂ÊúÄÂ§ßÈ´òÂ∫¶ */
          padding: 15px 10px;
          font-size: 22px;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          width: 90%;
          margin: 0 auto;
        }

        .hint-text {
          margin-top: 10px;
          font-size: 14px;
          line-height: 1.3;
        }

        .normal-content {
          font-size: 18px;
          padding: 15px;
          width: 90%;
          margin: 0 auto;
        }

        .normal-content h2 {
          font-size: 20px;
        }

        .normal-content h3 {
          font-size: 18px;
        }

        .normal-content a {
          width: 80%;
          margin: 8px auto;
          padding: 10px;
        }
      }

      /* Ê∑ªÂä†Âª∂ËøüÂä†ËΩΩÊ†∑Âºè */
      .lazy-load {
        opacity: 0;
        transition: opacity 0.5s ease;
      }

      .lazy-load.loaded {
        opacity: 1;
      }

      /* ÁßªÂä®Á´ØËß¶Êë∏ÂèçÈ¶à */
      @media (hover: none) {
        .image-container:active {
          transform: scale(0.98);
        }

        .normal-content a:active {
          background-color: #b5681f;
        }
      }

      /* ËÆ©‰∏ãËΩΩÈìæÊé•Âå∫ÂüüÊõ¥Êï¥ÈΩê */
      .normal-content .download-links {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <!-- È¢ÑÂä†ËΩΩÊâÄÊúâÂèØËÉΩÁî®Âà∞ÁöÑÂõæÁâá -->
    <div class="preload-container">
      <img src="assets/cat.png" alt="Áå´ÂõæÈ¢ÑÂä†ËΩΩ" />
      <img src="assets/dog.png" alt="ÁãóÂõæÈ¢ÑÂä†ËΩΩ" />
      <img src="assets/fox.png" alt="ÁãêÂõæÈ¢ÑÂä†ËΩΩ" />
    </div>

    <div class="container">
      <div class="content-row">
        <div class="image-container">
          <img
            id="randomImage"
            src=""
            alt="È∫ªÂúÜÊÑö‰∫∫ËäÇÂΩ©Ëõã"
            width="500"
            height="500"
          />
          <div class="click-area" id="clickArea"></div>
          <div class="image-tooltip">
            üò≠ Ê±Ç‰Ω†Âà´Áúã‰∫ÜÔºåÊàë‰ªéÂàù‰∏≠ÊØï‰∏öÂ∞±Ê≤°ÁîªËøáÁîª‰∫Ü<br />Á∫ØPSÈ¢ÜÂüüÊãºË¥¥ÁîªÊù•ÁöÑ
          </div>
        </div>
        <div class="overlay-text">
          ÊâæÈ∫ªÂúÜÔºàMaaYuanÔºâÊâæÂà∞ËøôÊù•‰∫ÜÔºÅÔºü<span class="hint-text"
            >Ê≠ªÈ∏ü‰∏çËÄÅÂÆûÔºåÊà≥Êà≥È∏üÂ±ÅËÇ°</span
          >
        </div>
        <div class="normal-content" id="normalContent">
          <h2>ü•≥ ÊÑüË∞¢ÂÖ≥Ê≥® MaaYuan È°πÁõÆ</h2>
          <p>MaaYuan ÊòØÂü∫‰∫éÂõæÂÉèËØÜÂà´ÁöÑ‰ª£Âè∑È∏¢/Â¶ÇÈ∏¢‰∏ÄÈîÆÈïøËçâÂ∞èÂä©Êâã„ÄÇ</p>
          <p>
            Êú¨È°πÁõÆÂÖçË¥πÂºÄÊ∫êÔºå‰ªÖÈÄöËøáÊ∏∏ÊàèÊèê‰æõÁöÑÁî®Êà∑ÁïåÈù¢‰∏éÊ∏∏ÊàèÁ®ãÂ∫èËøõË°å‰∫§‰∫íÔºå‰∏ç‰ºöËØªÂèñÊàñ‰øÆÊîπÊ∏∏ÊàèÁöÑÊñá‰ª∂Êàñ‰ª£Á†Å„ÄÇ
          </p>
          <p>‰ª•‰∏ãËæÖÂä©È°πÁõÆÂêåÊ≠•ÂºÄÂèë‰∏≠ÔºåÊ¨¢ËøéË¥°ÁåÆ‰ª£Á†ÅÔºö</p>
          <p>
            ¬∑ ÂèØËßÜÂåñÁïåÈù¢ -
            <a
              href="https://github.com/syoius/MFAAvalonia"
              class="text-link"
              target="_blank"
              >YuanMFA</a
            >ÔºàÁé∞Â∑≤ÊîØÊåÅWin„ÄÅMac„ÄÅLinuxÔºâ
          </p>
          <p>
            ¬∑ ÊàòÊñó‰Ωú‰∏öÁºñËæëÂô® -
            <a
              href="https://github.com/syoius/MaaYuan-SiMing"
              class="text-link"
              target="_blank"
              >Âè∏ÂëΩ</a
            >
          </p>
          <h3>üëá ‰∏ãËΩΩ MaaYuan ÔºàÂΩìÂâçÁâàÊú¨ v0.9.4.3Ôºâ</h3>
          <div class="download-links">
            <a href="https://docs.qq.com/aio/DS1BMQmpiQkdOb1RT" target="_blank"
              >ÊñáÊ°£‰∏éÂõΩÂÜÖÂàÜÊµÅ</a
            >
            <a href="https://github.com/syoius/MaaYuan" target="_blank"
              >GitHub ‰ªìÂ∫ì</a
            >
          </div>
          <h3>üîó ÂÖ∂‰ªñÂÆûÁî®ÈìæÊé•</h3>
          <div class="download-links">
            <a href="https://pd.qq.com/s/7blnnchll" target="_blank"
              >‰∫§ÊµÅÂèçÈ¶àÈ¢ëÈÅì</a
            >
            <a href="https://siming.cruisingcat.top/" target="_blank"
              >ÊàòÊñó‰Ωú‰∏öÁºñËæëÂô®</a
            >
            <a
              href="https://td3nqr3477.feishu.cn/base/BtwRb6yvxaRAsis3uVCccLVKnWg?table=tbl6DolUZQaGOMIb&view=vew54wfNwm"
              target="_blank"
              >Êü•ËØ¢‰∏ãËΩΩ‰Ωú‰∏ö</a
            >
            <a
              href="https://td3nqr3477.feishu.cn/share/base/form/shrcnJX0flRpMVVLdsBIb1L0MRh"
              target="_blank"
              >ÂàÜ‰∫´‰∏ä‰º†‰Ωú‰∏ö</a
            >
          </div>
        </div>
      </div>
    </div>

    <script>
      // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÊâßË°å
      document.addEventListener("DOMContentLoaded", function () {
        // ‰øÆÂ§çÁ™ÑÂ±èÂõæÁâáÂàùÂßãÂåñÈóÆÈ¢ò
        function checkImagesExist() {
          // Ê£ÄÊµãÂõæÁâáÊòØÂê¶Â≠òÂú®ÁöÑÂáΩÊï∞
          function imageExists(url, callback) {
            const img = new Image();
            img.onload = function () {
              callback(true);
            };
            img.onerror = function () {
              callback(false);
            };
            img.src = url;
          }

          // Ê£ÄÊü•ÂèØËÉΩÁöÑÁßªÂä®ÁâàÂõæÁâáÊòØÂê¶Â≠òÂú®
          const checkPromises = [];
          [
            "assets/cat-mobile.png",
            "assets/dog-mobile.png",
            "assets/fox-mobile.png",
          ].forEach((path) => {
            checkPromises.push(
              new Promise((resolve) => {
                imageExists(path, (exists) => {
                  resolve({ path: path, exists: exists });
                });
              })
            );
          });

          return Promise.all(checkPromises);
        }

        // Ê£ÄÊü•ÁßªÂä®ÂõæÁâáÊòØÂê¶Â≠òÂú®ÔºåÂπ∂Áõ∏Â∫îÈÖçÁΩÆ
        checkImagesExist().then((results) => {
          const hasMobileImages = results.some((result) => result.exists);

          // ÂõæÁâáË∑ØÂæÑÂíåÂ§ßÂ∞èÈÖçÁΩÆ
          const imageConfig = {
            desktop: {
              paths: ["assets/cat.png", "assets/dog.png", "assets/fox.png"],
              width: 500,
              height: 500,
            },
            mobile: {
              // Ê†πÊçÆÊ£ÄÊµãÁªìÊûúÂÜ≥ÂÆöÊòØ‰ΩøÁî®ÁßªÂä®ÁâàÂõæÁâáËøòÊòØÊ°åÈù¢ÁâàÂõæÁâá
              paths: hasMobileImages
                ? [
                    "assets/cat-mobile.png",
                    "assets/dog-mobile.png",
                    "assets/fox-mobile.png",
                  ]
                : ["assets/cat.png", "assets/dog.png", "assets/fox.png"],
              width: 350,
              height: 350,
            },
          };

          // Âà§Êñ≠ÊòØÂê¶‰∏∫ÁßªÂä®ËÆæÂ§á
          const isMobile = window.innerWidth <= 768;

          // ÈÄâÊã©ÂêàÈÄÇÁöÑÂõæÁâáÈÖçÁΩÆ
          const currentConfig = isMobile
            ? imageConfig.mobile
            : imageConfig.desktop;

          // È¢ÑÂä†ËΩΩÂõæÁâá
          const preloadContainer = document.querySelector(".preload-container");
          currentConfig.paths.forEach((path) => {
            const img = document.createElement("img");
            img.src = path;
            img.alt = "È¢ÑÂä†ËΩΩÂõæÁâá";
            img.style.display = "none";
            preloadContainer.appendChild(img);
          });

          let currentIndex = Math.floor(
            Math.random() * currentConfig.paths.length
          );
          let selectedImage = currentConfig.paths[currentIndex];
          let normalContentShown = false;

          // Ê£ÄÊµãÊòØÂê¶‰∏∫Ëß¶Êë∏ËÆæÂ§á
          const isTouchDevice =
            "ontouchstart" in window ||
            navigator.maxTouchPoints > 0 ||
            navigator.msMaxTouchPoints > 0;

          // Á´ãÂç≥ËÆæÁΩÆÂõæÁâáÊ∫ê
          const randomImage = document.getElementById("randomImage");
          const imageTooltip = document.querySelector(".image-tooltip");
          const originalTooltipText = imageTooltip.innerHTML;
          const switchTooltipText = "üò≠ Ê±Ç‰Ω†Âà´Áúã‰∫ÜÔºåÊà≥Â∞±ÂÆå‰∫ã‰∫Ü";

          // ÁßªÈô§‰πãÂâçÂú®touchDeviceÊù°‰ª∂‰∏ãÁöÑtooltipËá™Âä®ÊòæÁ§∫‰ª£Á†Å
          // Êîπ‰∏∫ÊâÄÊúâËÆæÂ§áÈÉΩÁî±Èº†Ê†áÊÇ¨ÂÅú/ÁÇπÂáªËß¶Âèëtooltip

          // ËÆæÁΩÆ‰∏Ä‰∏™Âä†ËΩΩÂç†‰ΩçÂõæ
          randomImage.src =
            'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 300 300"%3E%3Crect width="500" height="500" fill="rgba(223, 203, 178, 0.3)"%3E%3C/rect%3E%3C/svg%3E';

          // Êõ¥Êñ∞ÂõæÁâáÁöÑÂáΩÊï∞
          function updateImage(imgSrc) {
            // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÂõæÂÉèÂØπË±°È¢ÑÂä†ËΩΩÂÆûÈôÖÂõæÁâá
            const img = new Image();
            img.onload = function () {
              // ÁúüÂÆûÂõæÁâáÂä†ËΩΩÂÆåÊàêÂêéÊõøÊç¢
              randomImage.src = imgSrc;
              randomImage.classList.add("loaded");

              // Êõ¥Êñ∞ÊñáÂ≠óÔºàÂ¶ÇÊûúnormal-contentÊú™ÊòæÁ§∫Ôºâ
              if (!normalContentShown) {
                updateOverlayText(imgSrc);
              }
            };

            // Ê∑ªÂä†ÂõæÁâáÂä†ËΩΩÈîôËØØÂ§ÑÁêÜ
            img.onerror = function () {
              console.error("ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•: " + imgSrc);
              // Â¶ÇÊûúÊòØÂ∞ùËØïÂä†ËΩΩÁßªÂä®ÁâàÂõæÁâáÂ§±Ë¥•ÔºåÂ∞ùËØïÂä†ËΩΩÊ°åÈù¢Áâà
              if (imgSrc.indexOf("-mobile") > -1) {
                const desktopSrc = imgSrc.replace("-mobile", "");
                console.log("Â∞ùËØïÂä†ËΩΩÊ°åÈù¢ÁâàÂõæÁâá: " + desktopSrc);
                updateImage(desktopSrc);
              }
            };

            img.src = imgSrc;
          }

          // Êõ¥Êñ∞ÊñáÂ≠óÁöÑÂáΩÊï∞
          function updateOverlayText(imgSrc) {
            const overlayText = document.querySelector(".overlay-text");

            // ÁÆÄÂåñÂõæÁâáË∑ØÂæÑÂà§Êñ≠ÔºåÂéªÈô§-mobileÂêéÁºÄ
            const baseSrc = imgSrc.replace("-mobile", "");

            if (baseSrc.indexOf("cat.png") > -1) {
              overlayText.innerHTML =
                'ËøôÈáåÊòØÁå´Âõ≠<br>Ë∞ÅÂú®Êâæ<span class="highlight-text">È∫ªÂúÜ<span class="tooltip">MaaYuan</span></span>ÔºÅÔºüÔºÅ<span class="hint-text">Ê≠ªÈ∏ü‰∏çËÄÅÂÆûÔºåÊà≥Êà≥È∏üÂ±ÅËÇ°</span>';
            } else if (baseSrc.indexOf("dog.png") > -1) {
              overlayText.innerHTML =
                'ËøôÈáåÊòØÁãóÂõ≠<br>Ë∞ÅÂú®Êâæ<span class="highlight-text">È∫ªÂúÜ<span class="tooltip">MaaYuan</span></span>ÔºÅÔºüÔºÅ<span class="hint-text">Ê≠ªÈ∏ü‰∏çËÄÅÂÆûÔºåÊà≥Êà≥È∏üÂ±ÅËÇ°</span>';
            } else if (baseSrc.indexOf("fox.png") > -1) {
              overlayText.innerHTML =
                'ËøôÈáåÊòØÁãêÂõ≠<br>Ë∞ÅÂú®Êâæ<span class="highlight-text">È∫ªÂúÜ<span class="tooltip">MaaYuan</span></span>ÔºÅÔºüÔºÅ<span class="hint-text">Ê≠ªÈ∏ü‰∏çËÄÅÂÆûÔºåÊà≥Êà≥È∏üÂ±ÅËÇ°</span>';
            }
          }

          // ÈöèÊú∫ÂàáÊç¢ÂõæÁâáÁöÑÂáΩÊï∞
          function switchRandomImage() {
            // ÈöèÊú∫ÈÄâÊã©‰∏Ä‰∏™‰∏çÂêåÁöÑÁ¥¢Âºï
            let newIndex;
            do {
              newIndex = Math.floor(Math.random() * currentConfig.paths.length);
            } while (
              newIndex === currentIndex &&
              currentConfig.paths.length > 1
            );

            currentIndex = newIndex;
            selectedImage = currentConfig.paths[currentIndex];

            // Êõ¥Êñ∞ÂõæÁâá
            randomImage.classList.remove("loaded");
            setTimeout(() => {
              updateImage(selectedImage);
            }, 300); // Á≠âÂæÖÊ∑°Âá∫Âä®ÁîªÂÆåÊàê
          }

          // ÂàùÂßãÂä†ËΩΩÂõæÁâá
          updateImage(selectedImage);

          randomImage.onload = function () {
            if (this.src.indexOf("data:image") === -1) {
              this.classList.add("loaded");
            }
          };

          // Â¶ÇÊûúÂõæÁâáÂ∑≤ÁªèÂú®ÁºìÂ≠ò‰∏≠ÔºåÂèØËÉΩonload‰∏ç‰ºöËß¶ÂèëÔºåÊâÄ‰ª•Ê£ÄÊü•completeÂ±ûÊÄß
          if (
            randomImage.complete &&
            randomImage.src.indexOf("data:image") === -1
          ) {
            randomImage.classList.add("loaded");
          }

          // Èº†Ê†áÁßªÂä®‰∫ã‰ª∂Â§ÑÁêÜ
          const imageContainer = document.querySelector(".image-container");

          // ÁîµËÑëÁ´ØtooltipÊòæÁ§∫ÔºåÂÖÅËÆ∏Âú®normal contentÊøÄÊ¥ªÂêé‰ªçÊòæÁ§∫tooltip
          if (!isTouchDevice) {
            imageContainer.addEventListener("mousemove", function (e) {
              // Ëé∑ÂèñÈº†Ê†áÁõ∏ÂØπ‰∫éÂÆπÂô®ÁöÑ‰ΩçÁΩÆ
              const rect = imageContainer.getBoundingClientRect();
              const x = e.clientX - rect.left;
              const y = e.clientY - rect.top;

              // ËÆæÁΩÆtooltip‰ΩçÁΩÆÔºåÁ®çÂæÆÂÅèÁßª‰ª•ÈÅøÂÖçÈÅÆÊå°Èº†Ê†á
              imageTooltip.style.left = x + 10 + "px";
              imageTooltip.style.top = y - 30 + "px";

              // Á°Æ‰øùtooltipÂèØËßÅ
              imageTooltip.style.visibility = "visible";
              imageTooltip.style.opacity = "1";

              // Ê†πÊçÆnormal contentÊòæÁ§∫Áä∂ÊÄÅËÆæÁΩÆ‰∏çÂêåÁöÑtooltipÊñáÊú¨
              if (normalContentShown) {
                imageTooltip.innerHTML = switchTooltipText;
              } else {
                imageTooltip.innerHTML = originalTooltipText;
              }
            });

            // Èº†Ê†áÁßªÂá∫Êó∂ÈöêËóètooltip
            imageContainer.addEventListener("mouseleave", function () {
              imageTooltip.style.visibility = "hidden";
              imageTooltip.style.opacity = "0";
            });
          } else {
            // Ëß¶Êë∏ËÆæÂ§áÁÇπÂáªÂõæÁâáÊòæÁ§∫tooltip
            imageContainer.addEventListener("click", function (e) {
              if (normalContentShown) {
                // Â∑≤ÊøÄÊ¥ªnormal contentÔºåÊâßË°åÂõæÁâáÂàáÊç¢
                switchRandomImage();
                return;
              }

              // ÊòæÁ§∫tooltip
              if (
                imageTooltip.style.visibility === "hidden" ||
                imageTooltip.style.opacity === "0"
              ) {
                imageTooltip.style.visibility = "visible";
                imageTooltip.style.opacity = "1";

                // ËÆæÁΩÆtooltip‰ΩçÁΩÆ
                const rect = imageContainer.getBoundingClientRect();
                imageTooltip.style.left = "50%";
                imageTooltip.style.top = rect.height - 60 + "px";
                imageTooltip.style.transform = "translateX(-50%)";

                // 2ÁßíÂêéÈöêËóè
                setTimeout(() => {
                  imageTooltip.style.opacity = "0";
                  setTimeout(() => {
                    imageTooltip.style.visibility = "hidden";
                  }, 300);
                }, 2000);
              }
            });
          }

          // ÁÇπÂáªÂå∫Âüü‰∫ã‰ª∂
          const clickArea = document.getElementById("clickArea");
          const normalContent = document.getElementById("normalContent");
          const overlayText = document.querySelector(".overlay-text");

          clickArea.addEventListener("click", function () {
            if (!normalContentShown) {
              // È¶ñÊ¨°ÁÇπÂáªÊòæÁ§∫normal-content
              overlayText.style.display = "none";
              normalContent.style.display = "block";
              normalContentShown = true;

              // Á°Æ‰øùÈº†Ê†á‰∫ã‰ª∂Âú®normal contentÊòæÁ§∫Âêé‰ªçËÉΩÊ≠£Â∏∏Â∑•‰Ωú
              imageContainer.style.zIndex = "15";

              // ÁßªÈô§click-areaÔºåËÆ©ÂõæÁâáÂèØ‰ª•Ë¢´ÁÇπÂáª
              clickArea.style.display = "none";

              // ‰∏∫ÂõæÁâáÊ∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂ÔºåÁî®‰∫éÂàáÊç¢ÂõæÁâá
              randomImage.style.cursor = "pointer";
              if (!isTouchDevice) {
                // ÈùûËß¶Êë∏ËÆæÂ§áÊâçÊ∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂
                imageContainer.addEventListener("click", switchRandomImage);
              }

              // Êõ¥ÊîπtooltipÊñáÊú¨‰ΩÜ‰∏çÈöêËóèÂÆÉ
              imageTooltip.innerHTML = switchTooltipText;
            }
          });

          // ÊÄßËÉΩ‰ºòÂåñÔºöÈò≤Ê≠¢ÊªöÂä®‰∫ã‰ª∂Âíåresize‰∫ã‰ª∂ËøáÂ∫¶Ëß¶Âèë
          let resizeTimer;
          window.addEventListener("resize", function () {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(function () {
              // Êõ¥Êñ∞ÊòØÂê¶‰∏∫ÁßªÂä®ËÆæÂ§á
              const newIsMobile = window.innerWidth <= 768;

              // ÁßªÈô§ÈáçËΩΩÈ°µÈù¢ÁöÑÈÄªËæëÔºåÊîπ‰∏∫Ë∞ÉÊï¥UI
              if (newIsMobile !== isMobile) {
                // Êõ¥Êñ∞ÂΩìÂâçËÆæÂ§áÁ±ªÂûã
                isMobile = newIsMobile;

                // Ë∞ÉÊï¥ÂõæÁâáÊ∫ê‰ª•ÂåπÈÖçÊñ∞ÁöÑËÆæÂ§áÁ±ªÂûã
                if (normalContentShown) {
                  // ÈáçÊñ∞Âä†ËΩΩÂΩìÂâçÂõæÁâáÁöÑÈÄÇÂêàÁâàÊú¨
                  updateImage(currentConfig.paths[currentIndex]);
                }
              }

              // Ê†πÊçÆÊñ∞ÁöÑËßÜÂè£Â§ßÂ∞èË∞ÉÊï¥ÁÇπÂáªÂå∫Âüü
              if (window.innerWidth <= 480) {
                clickArea.style.width = "120px";
                clickArea.style.height = "120px";
              } else if (window.innerWidth <= 768) {
                clickArea.style.width = "150px";
                clickArea.style.height = "150px";
              } else {
                clickArea.style.width = "200px";
                clickArea.style.height = "200px";
              }
            }, 250);
          });

          // Ëß¶Âèë‰∏ÄÊ¨°resize‰∫ã‰ª∂‰ª•ÂàùÂßãÂåñÂ§ßÂ∞è
          window.dispatchEvent(new Event("resize"));

          // ÁßªÂä®Á´ØÂ§ÑÁêÜÂ±èÂπïÊñπÂêëÂèòÂåñ
          window.addEventListener("orientationchange", function () {
            // Áü≠ÊöÇÂª∂ËøüÔºåÁ≠âÂæÖÂ∏ÉÂ±ÄË∞ÉÊï¥
            setTimeout(function () {
              // ÈáçÊñ∞Ë∞ÉÊï¥tooltip‰ΩçÁΩÆ
              if (
                isTouchDevice &&
                imageTooltip.style.visibility === "visible"
              ) {
                const rect = imageContainer.getBoundingClientRect();
                imageTooltip.style.left = "50%";
                imageTooltip.style.top = rect.height - 60 + "px";
              }
            }, 300);
          });

          // ‰ºòÂåñËß¶Êë∏ËÆæÂ§áÁÇπÂáª‰ΩìÈ™å
          if (isTouchDevice) {
            // ‰∏∫ÊâÄÊúâÈìæÊé•Ê∑ªÂä†Ëß¶Êë∏ÂèçÈ¶à
            const allLinks = document.querySelectorAll(".normal-content a");
            allLinks.forEach((link) => {
              link.addEventListener("touchstart", function () {
                this.style.transform = "scale(0.98)";
              });

              link.addEventListener("touchend", function () {
                this.style.transform = "scale(1)";
              });
            });
          }
        });
      });
    </script>
  </body>
</html>
